<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Menu Café Ghrib</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    .scrollbar-hide {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    .scrollbar-hide::-webkit-scrollbar {
      display: none;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect } = React;

    function MenuCafeGhrib() {
      const [category, setCategory] = useState('cafes');
      const [showQR, setShowQR] = useState(false);
      const [qrUrl, setQrUrl] = useState('');

      useEffect(() => {
        // Toujours utiliser l'URL Netlify pour le QR code
        const netlifyUrl = 'https://menu-cafe-ghrib.netlify.app';
        setQrUrl(netlifyUrl);
        console.log('QR Code URL:', netlifyUrl); // Pour déboguer
      }, []);

      const categories = [
        { id: 'cafes', label: 'Cafés & Spécialités', image: 'https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=1000&q=80' },
        { id: 'boissons', label: 'Boissons fraîches', image: 'boisson fraiche.jpg' },
        { id: 'desserts', label: 'Desserts Maison', image: 'dessert maison.webp' },
        { id: 'chicha', label: 'Chicha & Détente', image: 'chicha.jpg' },
        { id: 'jeux', label: 'Jeux de Carte', image: 'jeu de carte.jfif' },
      ];

      const produits = {
        cafes: [
          { nom: 'Filtre', prix: '1,300 DT' },
          { nom: 'Express', prix: '1,900 DT' },
          { nom: 'Cappuccin', prix: '2,300 DT' },
          { nom: 'Express Nestlé', prix: '2,300 DT' },
          { nom: 'Armatora', prix: '2,500 DT' },
          { nom: 'Direct', prix: '2,500 DT' },
          { nom: 'Cappuccino', prix: '2,300 DT' },
          { nom: 'Chtare sghira', prix: '1,000 DT' },
          { nom: 'Verre Yaourte', prix: '2,000 DT' },
          { nom: 'Café au Lait', prix: '1,500 DT' },
          { nom: 'Verre de Lait', prix: '1,500 DT' },
          { nom: 'Café chtar', prix: '2,000 DT' },
          { nom: 'Chocolat Chaud', prix: '3,500 DT' },
          { nom: 'Chocolat Chaud fruits Sec', prix: '4,000 DT' },
          { nom: 'Café Turc', prix: '2,000 DT' },
          { nom: 'Café Chocolat PM', prix: '1,500 DT' },
          { nom: 'Café Chocolat GM', prix: '2,000 DT' },
          { nom: 'Thé', prix: '1,300 DT' },
          { nom: 'Thé Menthe', prix: '1,500 DT' },
          { nom: 'Thé au Amande Sec', prix: '5,000 DT' },
          { nom: 'Thé Amandes Fraiche', prix: '5,000 DT' },
          { nom: 'Thé Americain', prix: '1,500 DT' },
          { nom: 'Tizana', prix: '1,500 DT' },
          { nom: 'Thé Amandes Noisette', prix: '5,000 DT' },
        ],
        boissons: [
          { nom: 'Eau 1,5 L', prix: '2,000 DT' },
          { nom: 'Eau 0,5 L', prix: '1,000 DT' },
          { nom: 'Eau 1L', prix: '1,500 DT' },
          { nom: 'Eau Gazefier 0,5 L', prix: '1,500 DT' },
          { nom: 'Eau Gazefier 1L', prix: '2,000 DT' },
          { nom: 'Apla Verre', prix: '2,000 DT' },
          { nom: 'Fanta Verre', prix: '2,000 DT' },
          { nom: 'Boga Verre', prix: '2,000 DT' },
          { nom: 'Coca Boite', prix: '2,500 DT' },
          { nom: 'Fanta Boite', prix: '2,500 DT' },
          { nom: 'Déleo', prix: '1,500 DT' },
          { nom: 'Jus Oh', prix: '2,000 DT' },
          { nom: 'Délio Peche', prix: '1,500 DT' },
          { nom: 'Délio Poire', prix: '1,500 DT' },
          { nom: 'Délio Menthe', prix: '1,500 DT' },
          { nom: 'Jus fraise Amande', prix: '7,500 DT' },
          { nom: 'Shop Citron', prix: '3,000 DT' },
          { nom: 'Citron Amande', prix: '6,500 DT' },
          { nom: 'Verre Citron', prix: '2,000 DT' },
          { nom: 'Verre Rozata', prix: '1,500 DT' },
          { nom: 'Shop Rozata', prix: '2,500 DT' },
          { nom: 'Jus Carotte', prix: '2,500 DT' },
          { nom: 'Jus Fraise', prix: '4,000 DT' },
          { nom: 'Lait de Poule', prix: '4,000 DT' },
          { nom: 'Jus Fruit', prix: '4,500 DT' },
          { nom: 'Jus Fruits Sec', prix: '7,500 DT' },
          { nom: 'Mini Fruit sec', prix: '5,000 DT' },
          { nom: 'Jus Orange', prix: '2,500 DT' },
          { nom: 'Mojito', prix: '3,500 DT' },
          { nom: 'JWAJEM', prix: '8,000 DT' },
          { nom: 'Mini Jwajem', prix: '5,000 DT' },
          { nom: 'Shop Citron Amande', prix: '6,500 DT' },
        ],
        desserts: [
          { nom: 'Tranche Gateau', prix: '2,000 DT' },
          { nom: 'Mille feuille', prix: '1,500 DT' },
          { nom: 'Tarte', prix: '2,000 DT' },
          { nom: 'Délice', prix: '2,000 DT' },
          { nom: 'Cheese Cake', prix: '2,500 DT' },
          { nom: 'Croissant', prix: '1,500 DT' },
          { nom: 'Pain Chocolat', prix: '1,500 DT' },
          { nom: 'Pate Amande', prix: '1,500 DT' },
          { nom: 'Tranche Cake', prix: '1,200 DT' },
          { nom: 'Pronkon', prix: '0,800 DT' },
          { nom: 'Doze Amande', prix: '4,000 DT' },
          { nom: 'Doze Amande Séche', prix: '4,000 DT' },
          { nom: 'Fricasse', prix: '1,500 DT' },
          { nom: 'Sandwich Thon Baguette', prix: '2,500 DT' },
          { nom: 'Sandwich Thon Mbasses', prix: '2,500 DT' },
          { nom: 'Galette', prix: '2,500 DT' },
          { nom: 'Tranche Pizza', prix: '2,500 DT' },
          { nom: 'PATTEE', prix: '2,000 DT' },
        ],
        chicha: [
          { nom: '1/4 Chikh', prix: '4,000 DT' },
          { nom: '1/4 Jirak', prix: '4,500 DT' },
          { nom: 'Sa7fa Jirak GM', prix: '5,000 DT' },
          { nom: 'Chicha Menthe', prix: '5,000 DT' },
          { nom: 'Chicha Pomme', prix: '5,000 DT' },
          { nom: 'Chicha Raisin Menthe', prix: '5,000 DT' },
          { nom: 'LOVE', prix: '5,000 DT' },
          { nom: 'MIA MOR', prix: '5,000 DT' },
          { nom: 'CHIKH MONEY', prix: '5,000 DT' },
          { nom: 'HAWAI', prix: '5,000 DT' },
          { nom: 'SALOUM W NA3NA3', prix: '5,000 DT' },
        ],
        jeux: [
          { nom: 'Belote', prix: '3,500 DT' },
          { nom: 'Chkobba', prix: '3,000 DT' },
          { nom: 'Rami', prix: '4,000 DT' },
        ],
      };

      const currentCategory = categories.find((c) => c.id === category);

      return (
        <div className="min-h-screen flex flex-col font-['Poppins'] bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-100" style={{ opacity: 1, transition: 'opacity 1s' }}>
          <header className="fixed top-0 left-0 right-0 bg-[#7B3F00] text-white py-6 px-8 shadow-2xl flex flex-col items-center justify-center md:flex-row md:justify-between z-50">
            <h1 className="text-3xl font-bold mb-4 md:mb-0 text-center">
              Menu Café Ghrib
            </h1>

            <nav className="flex overflow-x-auto space-x-3 scrollbar-hide px-2 py-2 md:justify-end w-full md:w-auto items-center">
              {categories.map((c) => (
                <button
                  key={c.id}
                  onClick={() => setCategory(c.id)}
                  className={`text-base whitespace-nowrap font-semibold transition-all duration-300 px-4 py-2 rounded-full flex-shrink-0 ${
                    category === c.id
                      ? 'bg-amber-300 text-[#7B3F00] shadow-md'
                      : 'text-white border-2 border-white bg-transparent hover:bg-white/10'
                  }`}
                >
                  {c.label}
                </button>
              ))}
              {/* QR Code Button */}
              {/* <button
                onClick={() => setShowQR(!showQR)}
                className="ml-2 text-white hover:text-amber-200 hover:bg-[#a05a18] px-4 py-2 rounded-full transition-all duration-300 flex-shrink-0"
                title="Afficher le code QR"
              >
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z" />
                </svg>
              </button> */}
            </nav>
          </header>

          <main className="flex-1 relative overflow-hidden pt-40 md:pt-28">
            <img
              src={currentCategory?.image.startsWith('http') ? currentCategory.image : encodeURI(currentCategory?.image)}
              alt={category}
              className="absolute inset-0 w-full h-full object-cover opacity-80"
            />
            <div className="absolute inset-0 bg-gradient-to-r from-black/60 to-transparent" />

            <div className="relative z-10 text-white p-6 sm:p-10 max-w-3xl mx-auto">
              {produits[category].map((item, i) => (
                <div
                  key={i}
                  className="mb-6 border-b border-white/30 pb-4 hover:scale-[1.02] transition-transform duration-300"
                  style={{ opacity: 1, transform: 'translateY(0)', transition: `opacity 0.5s ${i * 0.1}s, transform 0.5s ${i * 0.1}s` }}
                >
                  <div className="flex justify-between items-center">
                    <h2 className="text-xl font-bold">{item.nom}</h2>
                    <span className="text-amber-300 font-semibold cursor-pointer hover:text-yellow-400 transition-colors">
                      {item.prix}
                    </span>
                  </div>
                </div>
              ))}
            </div>
          </main>

          {showQR && (
            <div
              className="fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4"
              onClick={() => setShowQR(false)}
              style={{ opacity: 1, transition: 'opacity 0.3s' }}
            >
              <div
                className="bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl"
                onClick={(e) => e.stopPropagation()}
                style={{ transform: 'scale(1)', opacity: 1, transition: 'transform 0.3s, opacity 0.3s' }}
              >
                <div className="text-center">
                  <h3 className="text-2xl font-bold text-[#7B3F00] mb-4">Code QR du Menu</h3>
                  <p className="text-gray-600 mb-6">Scannez pour partager le menu</p>
                  
                  <div className="bg-white p-4 rounded-lg inline-block mb-4">
                    <img
                      src={`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(qrUrl)}`}
                      alt="QR Code Menu"
                      className="w-64 h-64 mx-auto"
                    />
                  </div>
                  
                  <p className="text-sm text-gray-500 mb-4 break-all">{qrUrl}</p>
                  
                  <button
                    onClick={() => setShowQR(false)}
                    className="bg-[#7B3F00] text-white px-6 py-2 rounded-full hover:bg-[#a05a18] transition-colors"
                  >
                    Fermer
                  </button>
                </div>
              </div>
            </div>
          )}
  </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(React.createElement(MenuCafeGhrib));
  </script>
</body>
</html> 
